{"version":3,"sources":["webpack://hexo-theme-next/./src/main.js"],"names":["$","document","pjax","scrollTo","position","top","fragment","timeout","ready","sidebarInner","initAffix","headerOffset","innerHeight","CONFIG","sidebar","offset","affix","css","window","matchMedia","addListener","e","matches","off","removeData","removeClass"],"mappings":"AAAAA,EAAEC,UAAUC,KAAK,0CAA2C,QAAS,CACnEC,SAAUH,EAAE,SAASI,WAAWC,IAAM,GACtCC,SAAU,QACVC,QAAS,MAEXP,EAAEC,UAAUO,OAAM,WAEhB,IAAIC,EAAeT,EAAE,kBAMrB,SAASU,IACP,IAAIC,EAqBGX,EAAE,WAAWY,cAAgBC,OAAOC,QAAQC,OAnBnDN,EAAaO,MAAM,CACjBD,OAAQ,CACNV,IAAKM,KAITX,EAAE,YAAYiB,IAAI,CAAE,cAAe,YAdtBjB,EAAE,aAAa,GAE9BU,IAgBYQ,OAAOC,WAAW,sBACxBC,aAAY,SAASC,GACpBA,EAAEC,UAkBPtB,EAAEkB,QAAQK,IAAI,UACdd,EAAae,WAAW,YAAYC,YAAY,gCAChDf","file":"pisces.js","sourcesContent":["$(document).pjax('a:not(.fancybox):not([target=\"_blank\"])', '#main', {\n  scrollTo: $('.main').position().top - 60,\n  fragment: '#main',\n  timeout: 5000,\n});\n$(document).ready(function () {\n\n  var sidebarInner = $('.sidebar-inner');\n  var backlife = $('#backlife')[0];\n\n  initAffix();\n  resizeListener();\n\n  function initAffix () {\n    var headerOffset = getHeaderOffset();\n\n    sidebarInner.affix({\n      offset: {\n        top: headerOffset\n      }\n    });\n\n    $('#sidebar').css({ 'margin-left': 'initial' });\n  }\n\n  function resizeListener () {\n    var mql = window.matchMedia('(min-width: 991px)');\n    mql.addListener(function(e){\n      if(e.matches){\n        recalculateAffixPosition();\n      }\n    });\n  }\n\n  function getHeaderOffset () {\n    return $('#header').innerHeight() - CONFIG.sidebar.offset;\n  }\n\n  function getFooterOffset () {\n    var footerInner = $('.footer-inner'),\n        footerMargin = footerInner.outerHeight(true) - footerInner.outerHeight(),\n        footerOffset = footerInner.outerHeight(true) + footerMargin;\n    return footerOffset;\n  }\n\n  function recalculateAffixPosition () {\n    $(window).off('.affix');\n    sidebarInner.removeData('bs.affix').removeClass('affix affix-top affix-bottom');\n    initAffix();\n  }\n\n  function getBacklife () {\n    return $('#backlife')[0]\n  }\n});\n"],"sourceRoot":""}