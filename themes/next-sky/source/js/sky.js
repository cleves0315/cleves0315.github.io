(()=>{var t={95:()=>{window.Affix={initSideBar:function(){$(".sidebar-inner").affix({offset:{top:0}}),$("#sidebar").css({"margin-left":"initial"})}}},639:()=>{if(document.getElementById("evanyou")){var t,e=function(){for(n.clearRect(0,0,r,l),t=[{x:0,y:.7*l+c},{x:0,y:.7*l-c}];t[1].x<r+c;)o(t[0],t[1])},o=function(e,o){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(o.x,o.y);var s=o.x+(2*u()-.25)*c,a=i(o.y);n.lineTo(s,a),n.closePath(),d-=h/-50,n.fillStyle="#"+(127*p(d)+128<<16|127*p(d+h/3)+128<<8|127*p(d+h/3*2)+128).toString(16),n.fill(),t[0]=t[1],t[1]={x:s,y:a}},i=function t(e){var o=e+(2*u()-1.1)*c;return o>l||o<0?t(e):o},s=document.getElementById("evanyou"),n=s.getContext("2d"),a=window.devicePixelRatio||1,r=window.innerWidth,l=window.innerHeight,c=90,f=Math,d=0,h=2*f.PI,p=f.cos,u=f.random;s.width=r*a,s.height=l*a,n.scale(a,a),n.globalAlpha=.6,document.onclick=e,document.ontouchstart=e,e()}},19:(t,e,o)=>{NProgress.configure({showSpinner:!1,easing:"ease-out",speed:1e3}),$(document).pjax('a:not(.fancybox):not([target="_blank"])',"#main",{scrollTo:$(".main").position().top-60,fragment:"#main",timeout:5e3}),$(document).on("pjax:start",(function(){if(NexT.utils.removeActiveClassToMenuItem(),NexT.utils.addActiveClassToMenuItem(),NProgress.start(),$("html, body").animate({scrollTop:$(".main").position().top-60},500),window.dplayers){for(var t=0;t<window.dplayers.length;t++)window.dplayers[t].destroy();window.dplayers=[]}if(window.aplayers){for(var e=0;e<window.aplayers.length;e++)window.aplayers[e].destroy();window.aplayers=[]}})),$(document).on("pjax:end",(function(){NProgress.done(),o(732)(),setTimeout((function(){$("#disqus_thread").find("iframe").length>0&&$("#dsqjs").hide()}),500),"/"===location.pathname?$("#content-wrap").addClass("home-content-wrap"):$("#content-wrap").removeClass("home-content-wrap"),Affix.initSideBar()}))},732:t=>{t.exports=function(){$(document).ready((function(){!function(){var t=".post-toc",e=$(t);function o(){$(".post-toc .active-current").removeClass(".active-current".substring(1))}e.on("activate.bs.scrollspy",(function(){var t=$(".post-toc .active").last();o(),t.addClass("active-current"),e.scrollTop(t.offset().top-e.offset().top+e.scrollTop()-e.height()/2)})).on("clear.bs.scrollspy",o),$("body").scrollspy({target:t})}()})),$(document).ready((function(){var t=$("html"),e=200,o=$.isFunction(t.velocity);$(".sidebar-nav li").on("click",(function(){var t=$(this),i="sidebar-nav-active",s="sidebar-panel-active";if(!t.hasClass(i)){var n=$(".sidebar-panel-active"),a=$("."+t.data("target"));o?n.velocity("transition.slideUpOut",e,(function(){a.velocity("stop").velocity("transition.slideDownIn",e).addClass(s)})):n.animate({opacity:0},e,(function(){n.hide(),a.stop().css({opacity:0,display:"block"}).animate({opacity:1},e,(function(){n.removeClass(s),a.addClass(s)}))})),t.siblings().removeClass(i),t.addClass(i)}})),$(".post-toc a").on("click",(function(e){e.preventDefault();var i=decodeURIComponent(this.getAttribute("href")),s=$(i).offset().top;o?t.velocity("stop").velocity("scroll",{offset:s+"px",mobileHA:!1}):$("html, body").stop().animate({scrollTop:s},500)}));var i=$(".post-toc-content"),s="post"===CONFIG.sidebar.display||"always"===CONFIG.sidebar.display,n=i.length>0&&i.html().trim().length>0;s&&n&&(CONFIG.motion.enable?NexT.motion.middleWares.sidebar=function(){NexT.utils.displaySidebar()}:NexT.utils.displaySidebar())}))}},142:()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}!function(e){"use strict";function o(t,i){this.$body=e(document.body),this.$scrollElement=e(t).is(document.body)?e(window):e(t),this.options=e.extend({},o.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each((function(){var s=e(this),n=s.data("bs.scrollspy"),a="object"==t(i)&&i;n||s.data("bs.scrollspy",n=new o(this,a)),"string"==typeof i&&n[i]()}))}o.VERSION="3.3.2",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,o="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(o="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map((function(){var t=e(this),s=t.data("target")||t.attr("href"),n=/^#./.test(s)&&e(NexT.utils.escapeSelector(s));return n&&n.length&&n.is(":visible")&&[[n[o]().top+i,s]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){t.offsets.push(this[0]),t.targets.push(this[1])}))},o.prototype.process=function(){var t,o=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),s=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,a=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),o>=s)return r!=(t=a[a.length-1])&&this.activate(t);if(r&&o<n[0])return e(this.selector).trigger("clear.bs.scrollspy"),this.activeTarget=null,this.clear();for(t=n.length;t--;)r!=a[t]&&o>=n[t]&&(!n[t+1]||o<=n[t+1])&&this.activate(a[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var o=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(o).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var s=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=o,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=s,this},e(window).on("load.bs.scrollspy.data-api",(function(){e('[data-spy="scroll"]').each((function(){var t=e(this);i.call(t,t.data())}))}))}(jQuery)},437:()=>{!function t(){setTimeout((function(){t()}),1e3);var e=new Date,o=new Date(window.CONFIG.since),i=e.getTime()-o.getTime(),s=Math.floor(i/1e3/60/60/24),n=1e3*s*60*60*24,a=Math.floor((i-n)/1e3/60/60),r=1e3*a*60*60,l=Math.floor((i-n-r)/1e3/60),c=1e3*l*60,f=Math.floor((i-n-r-c)/1e3);$("#since").text("".concat(s,"天").concat(a,"小时").concat(l,"分钟").concat(f,"秒"))}()}},e={};function o(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,o),n.exports}o(95),o(19),o(639),o(437),o(142),o(732)(),window.PrePath=location.pathname,$(document).ready((function(){var t=$(".sidebar-inner");Affix.initSideBar(),window.matchMedia("(min-width: 991px)").addListener((function(e){e.matches&&($(window).off(".affix"),t.removeData("bs.affix").removeClass("affix affix-top affix-bottom"),Affix.initSideBar())})),"/"===location.pathname?$("#content-wrap").addClass("home-content-wrap"):$("#content-wrap").removeClass("home-content-wrap")}))})();
//# sourceMappingURL=sky.js.map